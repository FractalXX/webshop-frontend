<div class="page-header" 
  fxLayout="row"
  fxLayout.lt-md="column"
  fxLayoutAlign="space-between center">
  <h1>Products</h1>
  <form #filterForm="ngForm"
    (submit)="updateQuery()">
    <div fxFlex
      fxLayout="row wrap"
      fxLayout.lt-sm="column"
      fxLayoutAlign="start center"
      fxLayoutAlign.lt-md="space-between center"
      fxLayoutGap="20px">
      <mat-checkbox #outOfStockIndicator
        fxFlex="auto"
        fxFlex.lt-md="100%"
        color="primary"
        (change)="onOutOfStockIndicatorChanged($event)">
        Show out of stock items
      </mat-checkbox>
      <mat-form-field>
        <mat-label>Min. quantity</mat-label>
      </mat-form-field>
      <app-simple-input
        fxFlex="1 1 auto"
        name="quantityFrom"
        [(ngModel)]="filterFormModel.quantityFrom"
        [disabled]="outOfStockIndicator.checked"
        label="Min. quantity"
        hint="Inclusive. Must be at least zero."
        type="number"
      ></app-simple-input>
      <app-simple-input
        fxFlex="1 1 auto"
        name="quantityTo"
        [(ngModel)]="filterFormModel.quantityTo"
        [disabled]="outOfStockIndicator.checked"
        label="Max. quantity"
        hint="Inclusive. Must be at least zero."
        type="number"
      ></app-simple-input>
      <button mat-raised-button
        type="submit"
        color="primary">
        Filter
      </button>
    </div>
  </form>
</div>
<mat-divider></mat-divider>
<ng-container *ngIf="products$ | async as products">
  <div class="page-content"
    *ngIf="products.length; else noResultTemplate"
    gdColumns="repeat(4, 1fr)"
    gdColumns.lt-xl="repeat(3, 1fr)"
    gdColumns.lt-lg="repeat(2, 1fr)"
    gdColumns.lt-md="1fr"
    gdRows="auto"
    gdGap="20px">
    <app-product-card
      class="product-card"
      *ngFor="let product of products$ | async"
      [product]="product"
    ></app-product-card>
  </div>
  <ng-template #noResultTemplate>
    No result
  </ng-template>
</ng-container>
